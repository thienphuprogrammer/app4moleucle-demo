(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{2822:function(e,r,s){Promise.resolve().then(s.bind(s,8541))},8727:function(e,r,s){"use strict";s.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},8541:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return y}});var a=s(3827),t=s(4090),l=s(8371),n=s(6288),d=s(4562),o=s(7461);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,o.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),i=(0,o.Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),u=(0,o.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var m=s(8727),x=s(5011),h=s(2579),p=s(8222),f=s(2169);function b(){let[e,r]=(0,t.useState)(""),[s,o]=(0,t.useState)([{role:"assistant",content:"Hello! I'm your molecular assistant. Ask me about chemical structures, properties, or synthesis methods."}]),[b,y]=(0,t.useState)(!1),[g,j]=(0,t.useState)(null),v=(0,t.useRef)(null),N=async()=>{if(!e.trim())return;let s={role:"user",content:e};o(e=>[...e,s]),r(""),y(!0);try{let e=await p.aS.chat({query:s.content,session_id:g||void 0});g||j(e.session_id);let r={role:"assistant",content:e.answer,sources:e.sources};o(e=>[...e,r])}catch(e){n.toast.error("Failed to get answer"),o(e=>[...e,{role:"assistant",content:"Sorry, I encountered an error retrieving that information."}])}finally{y(!1)}};(0,t.useEffect)(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[s]);let w=e=>{r(e)};return(0,a.jsx)(x.Zn,{children:(0,a.jsxs)("div",{className:"flex h-full flex-col md:flex-row overflow-hidden",children:[(0,a.jsxs)("div",{className:"w-full md:w-80 border-r border-border bg-card/30 hidden md:flex flex-col",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-border/50",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 text-primary"}),"Knowledge Base"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"RAG-powered molecular intelligence."})]}),(0,a.jsxs)("div",{className:"p-4 space-y-2",children:[(0,a.jsx)("div",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider mb-2",children:"Suggested Topics"}),["What is aspirin?","Explain ethanol properties","Describe caffeine structure","What are NSAIDs?"].map(e=>(0,a.jsx)("div",{onClick:()=>w(e),className:"p-3 rounded-xl bg-card border border-border/50 hover:border-primary/50 cursor-pointer transition-all text-sm font-medium text-foreground/80 hover:text-primary",children:e},e))]})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col bg-background relative",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6",ref:v,children:[s.map((e,r)=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:(0,f.cn)("flex gap-4 max-w-3xl","user"===e.role?"ml-auto flex-row-reverse":""),children:[(0,a.jsx)("div",{className:(0,f.cn)("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 shadow-sm","user"===e.role?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:"user"===e.role?(0,a.jsx)(c,{className:"w-4 h-4"}):(0,a.jsx)(i,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:(0,f.cn)("p-4 rounded-2xl text-sm leading-relaxed shadow-sm","user"===e.role?"bg-primary text-primary-foreground rounded-tr-sm":"bg-card border border-border/50 rounded-tl-sm"),children:[(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:e.content}),e.sources&&e.sources.length>0&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-border/20 flex flex-wrap gap-2",children:e.sources.map((e,r)=>(0,a.jsxs)("span",{className:"text-[10px] bg-background/20 px-2 py-1 rounded-full opacity-80",children:["Source: ",e]},r))})]})]},r)),b&&(0,a.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-4 max-w-3xl",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(i,{className:"w-4 h-4 text-muted-foreground"})}),(0,a.jsxs)("div",{className:"bg-card border border-border/50 p-4 rounded-2xl rounded-tl-sm flex gap-1 items-center",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-primary/50 rounded-full animate-bounce"}),(0,a.jsx)("span",{className:"w-2 h-2 bg-primary/50 rounded-full animate-bounce [animation-delay:0.2s]"}),(0,a.jsx)("span",{className:"w-2 h-2 bg-primary/50 rounded-full animate-bounce [animation-delay:0.4s]"})]})]})]}),(0,a.jsxs)("div",{className:"p-4 md:p-6 bg-background/80 backdrop-blur-md border-t border-border/50",children:[(0,a.jsxs)("div",{className:"max-w-3xl mx-auto relative",children:[(0,a.jsx)(h.II,{className:"h-12 pl-4 pr-12 rounded-full bg-muted/30 border-border/50 focus:border-primary shadow-sm",placeholder:"Ask about a molecule...",value:e,onChange:e=>r(e.target.value),onKeyDown:e=>"Enter"===e.key&&N(),disabled:b}),(0,a.jsx)(h.zx,{size:"icon",className:"absolute right-1 top-1 h-10 w-10 rounded-full",onClick:N,disabled:b||!e.trim(),children:(0,a.jsx)(u,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"text-center mt-2",children:(0,a.jsxs)("span",{className:"text-[10px] text-muted-foreground flex items-center justify-center gap-1",children:[(0,a.jsx)(m.Z,{className:"w-3 h-3"})," AI can make mistakes. Verify chemical data."]})})]})]})]})})}function y(){return(0,a.jsx)(b,{})}}},function(e){e.O(0,[469,527,443,971,69,744],function(){return e(e.s=2822)}),_N_E=e.O()}]);