(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{993:function(e,s,r){Promise.resolve().then(r.bind(r,5075))},3081:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(7461).Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},5075:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return S}});var t=r(3827),l=r(4090),a=r(8745),n=r(8371),i=r(6288),d=r(3329),c=r(4428),o=r(8186),m=r(9263),x=r(7461);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,x.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var h=r(8994),p=r(7805),f=r(3081);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,x.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var j=r(7976),N=r(8727),g=r(1828),v=r(5011),y=r(2579),w=r(9557),k=r(8222),C=r(2169),Z=r(7785);let _={your_model:d.Z,molt5:c.Z,chemberta:o.Z};function E(){let[e,s]=(0,l.useState)([]),[r,c]=(0,l.useState)(null),[o,x]=(0,l.useState)([]),[E,S]=(0,l.useState)(!1),[M,z]=(0,l.useState)(!1),[D,P]=(0,l.useState)(""),[F,G]=(0,l.useState)(""),[I,R]=(0,l.useState)(""),[T,B]=(0,l.useState)(["your_model"]),[O,A]=(0,l.useState)(!1),[H,Y]=(0,l.useState)(null),[$,q]=(0,l.useState)(null),J=(0,l.useCallback)(async()=>{S(!0);try{let e=await k.sD.list();s(e)}catch(e){i.toast.error("Failed to load experiments")}finally{S(!1)}},[]),K=(0,l.useCallback)(async e=>{try{let s=await k.sD.getRuns(e);x(s)}catch(e){console.error("Failed to load runs")}},[]);(0,l.useEffect)(()=>{J()},[J]),(0,l.useEffect)(()=>{r&&K(r.id)},[r,K]);let L=async()=>{if(!D.trim()){i.toast.error("Please enter experiment name");return}try{let e=await k.sD.create({name:D,description:F});s(s=>[e,...s]),P(""),G(""),z(!1),c(e),i.toast.success("Experiment created")}catch(e){i.toast.error("Failed to create experiment")}},Q=async()=>{if(r&&I.trim()){if(0===T.length){i.toast.error("Please select at least one model");return}A(!0);try{let e=await k.sD.generateInExperiment(r.id,{prompt:I,models:T});x(s=>[e,...s]),q(e),e.results.length>0&&Y(e.results[0].smiles),R(""),i.toast.success("Generation complete"),c(e=>e?{...e,run_count:(e.run_count||0)+1}:null)}catch(e){i.toast.error("Generation failed")}finally{A(!1)}}},U=e=>{B(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,t.jsx)(v.Zn,{children:(0,t.jsxs)("div",{className:"flex h-full overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-80 border-r border-border bg-card/30 flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-border/50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h2",{className:"text-lg font-bold flex items-center gap-2",children:[(0,t.jsx)(m.Z,{className:"w-5 h-5 text-primary"}),"Experiments"]}),(0,t.jsxs)(y.zx,{size:"sm",onClick:()=>z(!0),children:[(0,t.jsx)(u,{className:"w-4 h-4 mr-1"}),"New"]})]}),(0,t.jsx)(a.M,{children:M&&(0,t.jsxs)(n.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3 overflow-hidden",children:[(0,t.jsx)(y.II,{placeholder:"Experiment name",value:D,onChange:e=>P(e.target.value)}),(0,t.jsx)(y.II,{placeholder:"Description (optional)",value:F,onChange:e=>G(e.target.value)}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(y.zx,{size:"sm",onClick:L,className:"flex-1",children:"Create"}),(0,t.jsx)(y.zx,{size:"sm",variant:"outline",onClick:()=>z(!1),children:"Cancel"})]})]})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:E?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(h.Z,{className:"w-6 h-6 animate-spin text-primary"})}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground text-sm",children:["No experiments yet.",(0,t.jsx)("br",{}),"Create your first experiment!"]}):e.map(e=>(0,t.jsxs)("div",{onClick:()=>{c(e),q(null),Y(null)},className:(0,C.cn)("p-3 rounded-xl cursor-pointer transition-all border-2",(null==r?void 0:r.id)===e.id?"bg-primary/10 border-primary":"bg-card border-transparent hover:border-border hover:bg-muted/30"),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm truncate",children:e.name}),e.description&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:e.description})]}),(0,t.jsx)(p.Z,{className:"w-4 h-4 text-muted-foreground flex-shrink-0 mt-0.5"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-[10px] text-muted-foreground",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(f.Z,{className:"w-3 h-3"}),e.run_count||0," runs"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(b,{className:"w-3 h-3"}),(0,C.p)(e.updated_at)]})]})]},e.id))})]}),(0,t.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"p-6 border-b border-border/50 bg-card/30",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:r.name}),r.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:r.description})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-[400px] border-r border-border p-4 flex flex-col overflow-y-auto",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider mb-4",children:"New Generation"}),(0,t.jsxs)("div",{className:"space-y-4 flex-1",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-muted-foreground",children:"Prompt"}),(0,t.jsx)("textarea",{className:"w-full bg-background border border-border text-foreground p-3 min-h-[100px] rounded-lg resize-none text-sm",placeholder:"Describe the molecule...",value:I,onChange:e=>R(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-muted-foreground",children:"Models"}),(0,t.jsx)("div",{className:"space-y-2",children:Z.k.map(e=>{let s=_[e.id]||d.Z,r=T.includes(e.id);return(0,t.jsxs)("div",{onClick:()=>U(e.id),className:(0,C.cn)("flex items-center p-2 rounded-lg border cursor-pointer transition-all",r?"bg-primary/10 border-primary":"border-border hover:border-primary/50"),children:[(0,t.jsx)(s,{className:(0,C.cn)("w-4 h-4 mr-2",r?"text-primary":"text-muted-foreground")}),(0,t.jsx)("span",{className:"text-sm font-medium flex-1",children:e.name}),r&&(0,t.jsx)(j.Z,{className:"w-4 h-4 text-primary"})]},e.id)})})]})]}),(0,t.jsxs)(y.zx,{onClick:Q,disabled:O||!I.trim()||0===T.length,className:"w-full mt-4",children:[O?(0,t.jsx)(h.Z,{className:"w-4 h-4 mr-2 animate-spin"}):(0,t.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),"Generate"]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("h3",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wider mb-3",children:["Run History (",o.length,")"]}),(0,t.jsx)("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:o.map(e=>(0,t.jsxs)("div",{onClick:()=>{q(e),e.results.length>0&&Y(e.results[0].smiles)},className:(0,C.cn)("p-3 rounded-lg border cursor-pointer transition-all",(null==$?void 0:$.id)===e.id?"bg-primary/10 border-primary":"border-border hover:border-primary/50"),children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:(0,C.$)(e.prompt,40)}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-[10px] text-muted-foreground",children:[(0,t.jsxs)("span",{children:[e.results.length," results"]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:(0,C.p)(e.created_at)})]})]},e.id))})]})]}),(0,t.jsx)("div",{className:"flex-1 p-6 bg-muted/10 flex flex-col",children:H?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex-1 rounded-2xl overflow-hidden border border-border bg-card relative min-h-[400px]",children:[(0,t.jsx)(w.i5,{smiles:H,className:"w-full h-full"}),(0,t.jsx)("div",{className:"absolute bottom-4 left-4 right-4 bg-background/90 backdrop-blur px-3 py-2 rounded-lg border border-border",children:(0,t.jsx)("code",{className:"text-xs font-mono text-foreground break-all",children:H})})]}),$&&$.results.length>1&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h4",{className:"text-xs font-bold text-muted-foreground uppercase mb-2",children:"All Results"}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:$.results.map((e,s)=>(0,t.jsx)("div",{onClick:()=>Y(e.smiles),className:(0,C.cn)("flex-shrink-0 w-32 h-24 rounded-lg border overflow-hidden cursor-pointer transition-all",e.smiles===H?"border-primary ring-2 ring-primary/20":"border-border hover:border-primary/50"),children:(0,t.jsx)(w.i5,{smiles:e.smiles})},s))})]})]}):(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(g.Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"Generate a molecule or select a run to view"})]})})})]})]}):(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(m.Z,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),(0,t.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Select an Experiment"}),(0,t.jsx)("p",{className:"text-sm",children:"Choose an experiment from the list or create a new one"})]})})})]})})}function S(){return(0,t.jsx)(E,{})}},7785:function(e,s,r){"use strict";r.d(s,{k:function(){return t}});let t=[{id:"your_model",name:"Your Model",description:"Custom trained model"},{id:"molt5",name:"MolT5",description:"Transformer for molecules"},{id:"chemberta",name:"ChemBERTa",description:"BERT-based chemistry model"}]}},function(e){e.O(0,[469,527,625,443,827,971,69,744],function(){return e(e.s=993)}),_N_E=e.O()}]);