(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{554:function(e,s,r){Promise.resolve().then(r.bind(r,7269))},7269:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return z}});var t=r(4297),a=r(3812),l=r(6738),i=r(2898),o=r(3745),n=r(3720),d=r(2652),c=r(7309),m=r(761),u=r(4925),x=r(7169),h=r(7069),f=r(1961),p=r(5414),g=r(2621),b=r(1397),j=r(9083),v=r(2845),N=r(1354),y=r(9698);function w(e){let{smiles:s,className:l,overlaySmiles:i}=e,o=(0,a.useRef)(null),n=(0,a.useRef)(null),[d,c]=(0,a.useState)(!1),m=(0,a.useRef)(null);return(0,a.useEffect)(()=>{m.current||r.e(229).then(r.t.bind(r,3489,23)).then(e=>{m.current=e.default||e,c(!0)}).catch(e=>{console.error("Failed to load 3Dmol:",e)})},[]),(0,a.useEffect)(()=>{if(!n.current||!d||!m.current)return;let e=m.current;if(!o.current){let s=e.createViewer(n.current,{backgroundColor:"rgba(0,0,0,0)"});o.current=s}let r=o.current;(async()=>{if(r.clear(),s)try{let e=await y.zG.get3DStructure(s);e&&e.sdf&&r.addModel(e.sdf,"sdf").setStyle({},{stick:{radius:.15,colorscheme:"Jmol"},sphere:{scale:.25}})}catch(e){console.error(e)}if(i)try{let e=await y.zG.get3DStructure(i);e&&e.sdf&&r.addModel(e.sdf,"sdf").setStyle({},{stick:{radius:.15,color:"#00FFFF",opacity:.7},sphere:{scale:.25,color:"#00FFFF",opacity:.7}})}catch(e){console.error(e)}r.zoomTo(),r.render()})()},[s,i,d]),(0,t.jsx)("div",{ref:n,className:"relative w-full h-full min-h-[300px] bg-transparent ".concat(l),children:!d&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin"})})})}var S=r(5917);let C=[{id:"your_model",name:"Your Model",description:"Custom trained model"},{id:"molt5",name:"MolT5",description:"Transformer for molecules"},{id:"chemberta",name:"ChemBERTa",description:"BERT-based chemistry model"}],k={your_model:n.Z,molt5:d.Z,chemberta:c.Z};function E(){let[e,s]=(0,a.useState)(""),[r,d]=(0,a.useState)(!1),[E,z]=(0,a.useState)(["your_model"]),[_,M]=(0,a.useState)([]),[Z,I]=(0,a.useState)([]),[O,F]=(0,a.useState)(null),[D,L]=(0,a.useState)(null),[T,A]=(0,a.useState)(null),[G,R]=(0,a.useState)("generate"),[P,V]=(0,a.useState)(!0),[B,H]=(0,a.useState)("text"),[U,J]=(0,a.useState)(""),[Q,Y]=(0,a.useState)(!1),[q,K]=(0,a.useState)(null),W=function(e,s){let[r,t]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let r=setTimeout(()=>{t(e)},s);return()=>{clearTimeout(r)}},[e,s]),r}(O,800),X=(0,a.useCallback)(async()=>{try{let e=await y.zG.getHistory();I(e)}catch(e){console.error("Failed to fetch history")}},[]);(0,a.useEffect)(()=>{X()},[X]);let $=(e,s)=>{if(M(e.results),e.results.length>0){let r=e.results[0];F(r.smiles),L(r.model_name),A({...e,prompt:s}),V(!0),o.toast.success("Molecule generated successfully")}X()},ee=async()=>{if(e){if(0===E.length){o.toast.error("Please select at least one model");return}d(!0),K(null);try{let s=await y.zG.generate({prompt:e,models:E});$(s,e)}catch(e){o.toast.error("Generation failed"),console.error(e)}finally{d(!1)}}},es=async()=>{if(!O){o.toast.error("No molecule selected");return}Y(!0);try{let e=await y.aS.mol2text({smiles:O});e.success?(K(e.description),o.toast.success("Description generated")):o.toast.error(e.error||"Failed to generate description")}catch(e){o.toast.error("Failed to generate description"),console.error(e)}finally{Y(!1)}},er=e=>{z(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return(0,t.jsx)(v.Zn,{history:Z,onHistoryClick:e=>{if(M(e.results),e.results.length>0){let s=e.results[0];F(s.smiles),L(s.model_name)}A(e),s(e.prompt),K(null)},mode:G,setMode:R,children:(0,t.jsxs)("div",{className:"flex-1 relative overflow-hidden flex flex-col md:flex-row h-full",children:[(0,t.jsx)(l.E.div,{layout:!0,className:(0,S.cn)("transition-all duration-500 ease-in-out border-r border-border bg-card/50 z-10 overflow-y-auto flex flex-col relative","edit"===G?"w-full md:w-1/2 p-2 md:p-4":"w-full md:w-[450px] p-0","generate"===G?"h-[50vh] md:h-full":"h-1/2 md:h-full","md:h-full"),children:(0,t.jsx)(i.M,{mode:"wait",children:"generate"===G?(0,t.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"p-6 md:p-8 border-b border-border/50 bg-gradient-to-b from-muted/30 to-transparent",children:[(0,t.jsx)("h2",{className:"text-xl md:text-2xl font-display font-bold mb-2 bg-gradient-to-r from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Text to Molecule"}),(0,t.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground leading-relaxed hidden md:block",children:"Generate molecular structures from natural language descriptions using AI models."})]}),(0,t.jsx)("div",{className:"p-4 md:p-6 space-y-5 flex-1 overflow-y-auto",children:(0,t.jsxs)(N.mQ,{value:B,onValueChange:e=>H(e),className:"w-full",children:[(0,t.jsxs)(N.dr,{className:"grid w-full grid-cols-2 h-10",children:[(0,t.jsxs)(N.SP,{value:"text",className:"text-xs font-bold gap-2",children:[(0,t.jsx)(m.Z,{className:"w-3.5 h-3.5"}),"Text Description"]}),(0,t.jsxs)(N.SP,{value:"smiles",className:"text-xs font-bold gap-2",children:[(0,t.jsx)(c.Z,{className:"w-3.5 h-3.5"}),"SMILES Input"]})]}),(0,t.jsxs)(N.nU,{value:"text",className:"mt-4 space-y-5",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),"Natural Language Description"]}),(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("textarea",{className:"w-full bg-background border-2 border-border/50 focus:border-primary text-foreground p-4 min-h-[120px] rounded-xl resize-none text-sm leading-relaxed placeholder:text-muted-foreground/50 focus:ring-4 focus:ring-primary/10 transition-all shadow-sm group-hover:border-border",placeholder:"e.g. A molecule with an aromatic ring and two hydroxyl groups...",value:e,onChange:e=>s(e.target.value)}),(0,t.jsxs)("div",{className:"absolute bottom-3 right-3 text-xs text-muted-foreground font-mono bg-muted/50 px-2 py-0.5 rounded",children:[e.length," chars"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),"Select AI Models"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-2",children:C.map(e=>{let s=k[e.id]||n.Z,r=E.includes(e.id);return(0,t.jsxs)("div",{className:(0,S.cn)("flex items-center p-3 rounded-xl border-2 cursor-pointer transition-all duration-200 relative overflow-hidden",r?"bg-primary/5 border-primary shadow-md shadow-primary/5":"bg-background border-border/50 hover:border-primary/30 hover:bg-muted/30"),onClick:()=>er(e.id),children:[(0,t.jsx)("div",{className:(0,S.cn)("w-8 h-8 rounded-lg mr-3 flex items-center justify-center transition-all",r?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:(0,t.jsx)(s,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:"text-sm font-bold block",children:e.name}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:e.description})]}),r&&(0,t.jsx)(u.Z,{className:"w-5 h-5 text-primary"})]},e.id)})}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[(0,t.jsx)(x.Z,{className:"w-3 h-3"}),"Select multiple models to compare results"]})]})]}),(0,t.jsxs)(N.nU,{value:"smiles",className:"mt-4 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),"SMILES String"]}),(0,t.jsx)(N.II,{className:"h-12 font-mono text-sm",placeholder:"e.g. CC(=O)OC1=CC=CC=C1C(=O)O",value:U,onChange:e=>J(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest",children:"Common Examples"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{name:"Aspirin",smiles:"CC(=O)OC1=CC=CC=C1C(=O)O"},{name:"Caffeine",smiles:"CN1C=NC2=C1C(=O)N(C(=O)N2C)C"},{name:"Ethanol",smiles:"CCO"},{name:"Benzene",smiles:"c1ccccc1"}].map(e=>(0,t.jsx)(N.zx,{variant:"outline",size:"sm",className:"text-xs justify-start",onClick:()=>J(e.smiles),children:e.name},e.name))})]})]})]})}),(0,t.jsx)("div",{className:"p-4 md:p-6 border-t border-border/50 bg-background/50 backdrop-blur-sm sticky bottom-0 z-20",children:"text"===B?(0,t.jsxs)(N.zx,{onClick:ee,disabled:r||!e||0===E.length,className:"w-full h-12 text-sm font-bold tracking-wide shadow-xl shadow-primary/20 hover:shadow-primary/30 hover:scale-[1.02] active:scale-[0.98] transition-all rounded-xl",children:[r?(0,t.jsx)(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"Generate Molecule",E.length>1?"s":""]}):(0,t.jsxs)(N.zx,{onClick:()=>{if(!U.trim()){o.toast.error("Please enter a SMILES string");return}F(U.trim()),L("user_input"),M([{model_name:"user_input",smiles:U.trim(),confidence:1,execution_time:0}]),A({id:"smiles-".concat(Date.now()),prompt:"SMILES: ".concat(U.trim()),created_at:new Date().toISOString(),results:[{model_name:"user_input",smiles:U.trim(),confidence:1,execution_time:0}]}),V(!0),o.toast.success("SMILES visualized successfully")},disabled:!U.trim(),className:"w-full h-12 text-sm font-bold tracking-wide shadow-xl shadow-primary/20 hover:shadow-primary/30 hover:scale-[1.02] active:scale-[0.98] transition-all rounded-xl",children:[(0,t.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Visualize SMILES"]})})]},"generator"):(0,t.jsx)(l.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"h-full rounded-2xl overflow-hidden border border-border/50 shadow-2xl flex items-center justify-center bg-muted/20",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Structure Editor (Coming Soon)"})},"editor")})}),(0,t.jsxs)("div",{className:(0,S.cn)("flex-1 bg-muted/20 relative flex flex-col p-4 md:p-6 overflow-hidden","generate"===G?"h-[50vh] md:h-full border-t md:border-t-0 md:border-l border-border":"h-1/2 md:h-full"),children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent pointer-events-none"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[(0,t.jsxs)("h3",{className:"text-xs md:text-sm font-bold text-foreground tracking-wide flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),"3D VISUALIZATION"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[O&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(N.zx,{variant:"outline",size:"sm",onClick:()=>{O&&(navigator.clipboard.writeText(O),o.toast.success("SMILES copied to clipboard"))},className:"h-8 text-xs font-semibold gap-2",children:[(0,t.jsx)(p.Z,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Copy SMILES"})]}),(0,t.jsxs)(N.zx,{variant:"outline",size:"sm",onClick:es,disabled:Q,className:"h-8 text-xs font-semibold gap-2",children:[Q?(0,t.jsx)(h.Z,{className:"w-3.5 h-3.5 animate-spin"}):(0,t.jsx)(g.Z,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Describe"})]})]}),"generate"===G&&_.length>1&&(0,t.jsxs)(N.zx,{variant:"outline",size:"sm",onClick:()=>V(!P),className:"h-8 text-xs font-semibold gap-2",children:[(0,t.jsx)(b.Z,{className:"w-3.5 h-3.5"}),(0,t.jsxs)("span",{className:"hidden sm:inline",children:[P?"Hide":"Show"," Results"]})]})]})]}),O?(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full h-full flex flex-col md:flex-row gap-4 md:gap-6 relative",children:[(0,t.jsxs)("div",{className:"flex-1 flex flex-col gap-4 min-w-0 transition-all duration-300 h-full",children:[(0,t.jsxs)("div",{className:"flex-1 rounded-2xl overflow-hidden border-2 border-border/50 shadow-lg bg-card relative group hover:border-primary/30 transition-all min-h-[250px]",children:[(0,t.jsx)(w,{smiles:W||O,className:"w-full h-full"}),D&&(0,t.jsxs)("div",{className:"absolute top-4 left-4 bg-background/90 backdrop-blur px-3 py-1.5 rounded-lg border border-border shadow-sm flex items-center gap-2 z-10",children:[(0,t.jsx)(j.Z,{className:"w-3.5 h-3.5 text-primary"}),(0,t.jsx)("span",{className:"text-xs font-bold uppercase",children:D.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"absolute bottom-4 left-4 right-4 bg-background/90 backdrop-blur px-3 py-2 rounded-lg border border-border shadow-sm z-10",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-muted-foreground mb-1",children:"SMILES"}),(0,t.jsx)("code",{className:"text-xs font-mono text-foreground break-all",children:O})]})]}),q&&(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-card border border-border rounded-xl p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(g.Z,{className:"w-4 h-4 text-primary"}),(0,t.jsx)("span",{className:"text-xs font-bold text-muted-foreground uppercase",children:"AI Description"})]}),(0,t.jsx)("p",{className:"text-sm text-foreground leading-relaxed whitespace-pre-wrap",children:q})]})]}),(0,t.jsx)(i.M,{children:"generate"===G&&_.length>1&&P&&(0,t.jsxs)(l.E.div,{initial:{width:0,opacity:0},animate:{width:280,opacity:1},exit:{width:0,opacity:0},className:"flex-shrink-0 flex flex-col gap-3 overflow-hidden md:h-full",children:[(0,t.jsxs)("div",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider px-1",children:["Model Comparison (",_.length," results)"]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto pr-1 space-y-3 pb-2 scrollbar-hide",children:_.map((e,s)=>{let r=e.smiles===O,a=C.find(s=>s.id===e.model_name),i=k[e.model_name]||n.Z;return(0,t.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*s},className:(0,S.cn)("relative group cursor-pointer border-2 rounded-xl overflow-hidden transition-all shadow-sm",r?"border-primary bg-primary/5 shadow-md scale-[1.02]":"border-border/50 bg-card hover:border-primary/50 hover:bg-muted/30"),onClick:()=>{F(e.smiles),L(e.model_name),K(null)},children:[(0,t.jsx)("div",{className:"h-24 rounded-lg overflow-hidden bg-background relative pointer-events-none m-1",children:(0,t.jsx)(w,{smiles:e.smiles})}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i,{className:(0,S.cn)("w-4 h-4",r?"text-primary":"text-muted-foreground")}),(0,t.jsx)("span",{className:(0,S.cn)("text-xs font-bold",r?"text-primary":"text-foreground"),children:(null==a?void 0:a.name)||e.model_name})]}),(0,t.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,t.jsxs)("span",{className:"text-[10px] text-muted-foreground",children:[(100*e.confidence).toFixed(0),"%"]}),r&&(0,t.jsx)(u.Z,{className:"w-3.5 h-3.5 text-primary"})]})]}),(0,t.jsx)("code",{className:"text-[10px] font-mono text-muted-foreground block truncate",children:e.smiles})]})]},s)})})]})})]}):(0,t.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground p-8 text-center relative",children:[(0,t.jsx)("div",{className:"w-64 h-64 bg-primary/5 rounded-full absolute blur-3xl animate-pulse"}),(0,t.jsx)("div",{className:"w-24 h-24 bg-card rounded-3xl border border-border shadow-xl flex items-center justify-center mb-6 relative z-10 rotate-3 transition-transform hover:rotate-0",children:(0,t.jsx)(f.Z,{className:"w-10 h-10 text-primary"})}),(0,t.jsx)("h2",{className:"text-xl md:text-3xl font-display font-bold text-foreground mb-3 relative z-10",children:"Ready to Discover"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground max-w-md relative z-10",children:"Enter a text description or SMILES string to visualize molecular structures in 3D."})]})]})]})})}function z(){return(0,t.jsx)(E,{})}}},function(e){e.O(0,[126,335,456,980,681,452,744],function(){return e(e.s=554)}),_N_E=e.O()}]);